databaseChangeLog:
  - changeSet:
      id: create_foreign_keys
      author: afarkas
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: ship_id
            baseTableName: bosch_bomple_assignment
            constraintName: fk_assigment_ship_ship_id
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: bosch_bomple_ship
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: crew_id
            baseTableName: bosch_bomple_assignment
            constraintName: fk_assigment_crew_crew_id
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: bosch_bomple_crew
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: current_assignment_id
            baseTableName: bosch_bomple_crew
            constraintName: fk_crew_assigment_current
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: bosch_bomple_assignment
            validate: true

        - addForeignKeyConstraint:
            baseColumnNames: captain_id
            baseTableName: bosch_bomple_ship
            constraintName: fk_ship_crew_captain
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: bosch_bomple_crew
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: ship_id
            baseTableName: bosch_bomple_armament
            constraintName: fk_armament_ship_ship_id
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: bosch_bomple_ship
            validate: true